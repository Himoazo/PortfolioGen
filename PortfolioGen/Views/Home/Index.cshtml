@model PortfolioGen.DTOs.PublicPortfolioDto

@{
    ViewData["Title"] = $"{Model.Name}'s portfolio";
}


<div class="portfolio-container">
    <!-- Profile Header -->
    <div class="profile-header">
        <h1 class="profile-name">@Model.Name</h1>

        <!-- Profile Image -->
        <div class="profile-image-container">
            <a href="/images/@Model.ProfileImage" target="_blank">
                <img src="/images/@Model.ProfileImage" alt="@Model.Name's Profile" class="profile-image" />
            </a>
        </div>

        <!-- Social Links -->
        @if (Model.SocialLinks != null && Model.SocialLinks.Any())
        {
            <div class="social-links">
                @foreach (var link in Model.SocialLinks)
                {
                    @if(link.Platform == "Gmail" || link.Platform == "Outlook")
                    {
                        <a href="mailto: + @(link.Url)" target="_blank" class="social-link" title="@link.Url">
                            <img src="/images/@(link.Platform + ".svg")" alt="@link.Platform icon" />
                        </a>
                    } else
                    {
                        <a href="@link.Url" target="_blank" class="social-link" title="@link.Url">
                            <img src="/images/@(link.Platform + ".svg")" alt="@link.Platform icon" />
                        </a>
                    }
                }
            </div>
        }
    </div>

    <!-- Biography -->
    @if (!string.IsNullOrEmpty(Model.Bio))
    {
        <div class="bio-section">
            <article class="bio-text">@Model.Bio</article>
        </div>
    }

    <!-- Projects Section -->
    @if ((Model.Projects != null && Model.Projects.Any()) || (Model.GitHubRepos != null && Model.GitHubRepos.Any()))
    {
        <div class="projects-section">
            <h2 class="section-title">Projects</h2>

            <div class="projects-grid">
                <!-- User Added Projects -->
                @if (Model.Projects != null)
                {
                    @foreach (var project in Model.Projects)
                    {
                        <div class="project-card">
                            <h3 class="project-title">@project.Title</h3>

                            @if (!string.IsNullOrEmpty(project.Description))
                            {
                                <p class="project-description">@project.Description</p>
                            }

                            <div class="project-links">
                                @if (!string.IsNullOrEmpty(project.ProjectUrl))
                                {
                                    <a href="@project.ProjectUrl" target="_blank" class="project-link">
                                        🌐 Live Demo
                                    </a>
                                }
                                @if (!string.IsNullOrEmpty(project.GithubUrl))
                                {
                                    <a href="@project.GithubUrl" target="_blank" class="project-link">
                                        📱 GitHub
                                    </a>
                                }
                            </div>
                        </div>
                    }
                }

                <!-- GitHub Repositories -->
                @if (Model.GitHubRepos != null)
                {
                    @foreach (var repo in Model.GitHubRepos)
                    {
                        <div class="project-card">
                            <h3 class="project-title">
                                @repo.Name
                                <span class="github-indicator">GitHub</span>
                            </h3>

                            @if (!string.IsNullOrEmpty(repo.Description))
                            {
                                <p class="project-description">@repo.Description</p>
                            }

                            <div class="project-links">
                                <a href="@repo.Html_Url" target="_blank" class="project-link">
                                    📱 Repository
                                </a>
                                @if (!string.IsNullOrEmpty(repo.Homepage))
                                {
                                    <a href="@repo.Homepage" target="_blank" class="project-link">
                                        🌐 Homepage
                                    </a>
                                }
                                @if (repo.Stargazers_Count > 0)
                                {
                                    <span class="repo-badge">
                                        ⭐ @repo.Stargazers_Count
                                    </span>
                                }
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
    }
</div>